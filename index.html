<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>German Verb Conjugation Trainer</title>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="German Verbs">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #dbeafe 0%, #c7d2fe 100%);
            min-height: 100vh;
            padding: 16px;
        }
        
        .container {
            max-width: 384px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            margin-bottom: 32px;
            padding-top: 32px;
        }
        
        .title {
            font-size: 2rem;
            font-weight: bold;
            color: #1f2937;
            margin-bottom: 8px;
        }
        
        .subtitle {
            color: #6b7280;
        }
        
        .button {
            width: 100%;
            background: white;
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            margin-bottom: 16px;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            text-align: left;
            font-size: 16px;
        }
        
        .button:hover {
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }
        
        .button-primary {
            background: #6366f1;
            color: white;
            justify-content: center;
        }
        
        .button-success {
            background: #10b981;
            color: white;
            justify-content: center;
        }
        
        .button-warning {
            background: #f59e0b;
            color: white;
            justify-content: center;
        }
        
        .button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .icon {
            margin-right: 12px;
            font-size: 20px;
        }
        
        .back-button {
            background: none;
            border: none;
            font-size: 24px;
            color: #6b7280;
            margin-right: 12px;
            cursor: pointer;
        }
        
        .form-group {
            margin-bottom: 16px;
        }
        
        .label {
            display: block;
            font-size: 14px;
            font-weight: 500;
            color: #374151;
            margin-bottom: 8px;
        }
        
        .input {
            width: 100%;
            padding: 12px;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            font-size: 16px;
        }
        
        .input:focus {
            outline: none;
            border-color: #6366f1;
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }
        
        .conjugation-row {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
        }
        
        .pronoun {
            width: 64px;
            font-size: 14px;
            font-weight: 500;
            color: #6b7280;
        }
        
        .button-row {
            display: flex;
            gap: 12px;
            margin-top: 24px;
        }
        
        .button-secondary {
            background: #e5e7eb;
            color: #374151;
        }
        
        .test-card {
            background: white;
            border-radius: 12px;
            padding: 32px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            text-align: center;
        }
        
        .verb-title {
            font-size: 2rem;
            font-weight: bold;
            color: #1f2937;
            margin-bottom: 8px;
        }
        
        .verb-translation {
            color: #6b7280;
            font-size: 1rem;
            margin-bottom: 24px;
            font-style: italic;
        }
        
        .pronoun-display {
            font-size: 1.25rem;
            color: #6b7280;
            margin-bottom: 32px;
        }
        
        .answer-input {
            width: 100%;
            padding: 16px;
            font-size: 1.125rem;
            text-align: center;
            border: 2px solid #d1d5db;
            border-radius: 8px;
            margin-bottom: 24px;
        }
        
        .answer-input:focus {
            outline: none;
            border-color: #6366f1;
        }
        
        .result-correct {
            color: #059669;
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .result-incorrect {
            color: #dc2626;
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .correct-answer {
            font-size: 1.125rem;
            color: #374151;
            margin-bottom: 16px;
        }
        
        .score {
            font-size: 14px;
            color: #6b7280;
            margin-bottom: 8px;
        }
        
        .percentage {
            font-size: 4rem;
            font-weight: bold;
            color: #6366f1;
            margin-bottom: 16px;
        }
        
        .verb-card {
            background: white;
            border-radius: 12px;
            padding: 16px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            margin-bottom: 12px;
        }
        
        .verb-name {
            font-weight: bold;
            font-size: 1.125rem;
            color: #1f2937;
            margin-bottom: 4px;
        }
        
        .verb-english {
            font-size: 0.875rem;
            color: #6b7280;
            font-style: italic;
            margin-bottom: 12px;
        }
        
        .conjugations-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
            font-size: 14px;
        }
        
        .conjugation-item {
            display: flex;
            justify-content: space-between;
        }
        
        .hidden {
            display: none;
        }
        
        .test-header {
            text-align: center;
            margin-bottom: 32px;
            padding-top: 32px;
        }
        
        .end-test {
            font-size: 14px;
            color: #6b7280;
            background: none;
            border: none;
            cursor: pointer;
        }
        
        .gradient-purple {
            background: linear-gradient(135deg, #f3e8ff 0%, #e0e7ff 100%);
        }
        
        .gradient-green {
            background: linear-gradient(135deg, #ecfdf5 0%, #dbeafe 100%);
        }
        
        .status-message {
            background: white;
            border-radius: 8px;
            padding: 12px;
            margin: 16px 0;
            text-align: center;
            font-size: 14px;
        }
        
        .status-success {
            background: #dcfce7;
            color: #166534;
        }
        
        .status-error {
            background: #fecaca;
            color: #991b1b;
        }
        
        .status-info {
            background: #dbeafe;
            color: #1e40af;
        }
        
        .github-setup {
            background: white;
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            margin-bottom: 16px;
        }
        
        .setup-step {
            margin-bottom: 16px;
            padding: 12px;
            background: #f8fafc;
            border-radius: 8px;
            border-left: 4px solid #6366f1;
        }
    </style>
</head>
<body>
    <div id="app"></div>

    <script>
        // German Verb Conjugation App with GitHub Integration
        class GermanVerbApp {
            constructor() {
                this.verbs = [
                    // Top 100 German verbs from Randall Jones & Erwin Tschirner's Frequency Dictionary
                    {infinitive: 'sein', english: 'to be', conjugations: { ich: 'bin', du: 'bist', er: 'ist', wir: 'sind', ihr: 'seid', sie: 'sind' }},
                    {infinitive: 'haben', english: 'to have', conjugations: { ich: 'habe', du: 'hast', er: 'hat', wir: 'haben', ihr: 'habt', sie: 'haben' }},
                    {infinitive: 'werden', english: 'to become', conjugations: { ich: 'werde', du: 'wirst', er: 'wird', wir: 'werden', ihr: 'werdet', sie: 'werden' }},
                    {infinitive: 'können', english: 'can, to be able to', conjugations: { ich: 'kann', du: 'kannst', er: 'kann', wir: 'können', ihr: 'könnt', sie: 'können' }},
                    {infinitive: 'müssen', english: 'must, to have to', conjugations: { ich: 'muss', du: 'musst', er: 'muss', wir: 'müssen', ihr: 'müsst', sie: 'müssen' }},
                    {infinitive: 'sagen', english: 'to say', conjugations: { ich: 'sage', du: 'sagst', er: 'sagt', wir: 'sagen', ihr: 'sagt', sie: 'sagen' }},
                    {infinitive: 'machen', english: 'to do, to make', conjugations: { ich: 'mache', du: 'machst', er: 'macht', wir: 'machen', ihr: 'macht', sie: 'machen' }},
                    {infinitive: 'geben', english: 'to give', conjugations: { ich: 'gebe', du: 'gibst', er: 'gibt', wir: 'geben', ihr: 'gebt', sie: 'geben' }},
                    {infinitive: 'kommen', english: 'to come', conjugations: { ich: 'komme', du: 'kommst', er: 'kommt', wir: 'kommen', ihr: 'kommt', sie: 'kommen' }},
                    {infinitive: 'sollen', english: 'should, ought to', conjugations: { ich: 'soll', du: 'sollst', er: 'soll', wir: 'sollen', ihr: 'sollt', sie: 'sollen' }},
                    {infinitive: 'wollen', english: 'to want', conjugations: { ich: 'will', du: 'willst', er: 'will', wir: 'wollen', ihr: 'wollt', sie: 'wollen' }},
                    {infinitive: 'gehen', english: 'to go', conjugations: { ich: 'gehe', du: 'gehst', er: 'geht', wir: 'gehen', ihr: 'geht', sie: 'gehen' }},
                    {infinitive: 'wissen', english: 'to know', conjugations: { ich: 'weiß', du: 'weißt', er: 'weiß', wir: 'wissen', ihr: 'wisst', sie: 'wissen' }},
                    {infinitive: 'sehen', english: 'to see', conjugations: { ich: 'sehe', du: 'siehst', er: 'sieht', wir: 'sehen', ihr: 'seht', sie: 'sehen' }},
                    {infinitive: 'lassen', english: 'to let, to allow', conjugations: { ich: 'lasse', du: 'lässt', er: 'lässt', wir: 'lassen', ihr: 'lasst', sie: 'lassen' }},
                    {infinitive: 'stehen', english: 'to stand', conjugations: { ich: 'stehe', du: 'stehst', er: 'steht', wir: 'stehen', ihr: 'steht', sie: 'stehen' }},
                    {infinitive: 'finden', english: 'to find', conjugations: { ich: 'finde', du: 'findest', er: 'findet', wir: 'finden', ihr: 'findet', sie: 'finden' }},
                    {infinitive: 'bleiben', english: 'to stay, to remain', conjugations: { ich: 'bleibe', du: 'bleibst', er: 'bleibt', wir: 'bleiben', ihr: 'bleibt', sie: 'bleiben' }},
                    {infinitive: 'liegen', english: 'to lie, to be lying', conjugations: { ich: 'liege', du: 'liegst', er: 'liegt', wir: 'liegen', ihr: 'liegt', sie: 'liegen' }},
                    {infinitive: 'heißen', english: 'to be called', conjugations: { ich: 'heiße', du: 'heißt', er: 'heißt', wir: 'heißen', ihr: 'heißt', sie: 'heißen' }},
                    {infinitive: 'denken', english: 'to think', conjugations: { ich: 'denke', du: 'denkst', er: 'denkt', wir: 'denken', ihr: 'denkt', sie: 'denken' }},
                    {infinitive: 'nehmen', english: 'to take', conjugations: { ich: 'nehme', du: 'nimmst', er: 'nimmt', wir: 'nehmen', ihr: 'nehmt', sie: 'nehmen' }},
                    {infinitive: 'tun', english: 'to do', conjugations: { ich: 'tue', du: 'tust', er: 'tut', wir: 'tun', ihr: 'tut', sie: 'tun' }},
                    {infinitive: 'dürfen', english: 'may, to be allowed', conjugations: { ich: 'darf', du: 'darfst', er: 'darf', wir: 'dürfen', ihr: 'dürft', sie: 'dürfen' }},
                    {infinitive: 'glauben', english: 'to believe', conjugations: { ich: 'glaube', du: 'glaubst', er: 'glaubt', wir: 'glauben', ihr: 'glaubt', sie: 'glauben' }},
                    {infinitive: 'halten', english: 'to stop, to hold', conjugations: { ich: 'halte', du: 'hältst', er: 'hält', wir: 'halten', ihr: 'haltet', sie: 'halten' }},
                    {infinitive: 'nennen', english: 'to name, to call', conjugations: { ich: 'nenne', du: 'nennst', er: 'nennt', wir: 'nennen', ihr: 'nennt', sie: 'nennen' }},
                    {infinitive: 'mögen', english: 'to like', conjugations: { ich: 'mag', du: 'magst', er: 'mag', wir: 'mögen', ihr: 'mögt', sie: 'mögen' }},
                    {infinitive: 'zeigen', english: 'to show', conjugations: { ich: 'zeige', du: 'zeigst', er: 'zeigt', wir: 'zeigen', ihr: 'zeigt', sie: 'zeigen' }},
                    {infinitive: 'führen', english: 'to lead', conjugations: { ich: 'führe', du: 'führst', er: 'führt', wir: 'führen', ihr: 'führt', sie: 'führen' }},
                    {infinitive: 'sprechen', english: 'to speak', conjugations: { ich: 'spreche', du: 'sprichst', er: 'spricht', wir: 'sprechen', ihr: 'sprecht', sie: 'sprechen' }},
                    {infinitive: 'bringen', english: 'to bring', conjugations: { ich: 'bringe', du: 'bringst', er: 'bringt', wir: 'bringen', ihr: 'bringt', sie: 'bringen' }},
                    {infinitive: 'leben', english: 'to live', conjugations: { ich: 'lebe', du: 'lebst', er: 'lebt', wir: 'leben', ihr: 'lebt', sie: 'leben' }},
                    {infinitive: 'fahren', english: 'to drive, to go', conjugations: { ich: 'fahre', du: 'fährst', er: 'fährt', wir: 'fahren', ihr: 'fahrt', sie: 'fahren' }},
                    {infinitive: 'meinen', english: 'to mean, to think', conjugations: { ich: 'meine', du: 'meinst', er: 'meint', wir: 'meinen', ihr: 'meint', sie: 'meinen' }},
                    {infinitive: 'fragen', english: 'to ask', conjugations: { ich: 'frage', du: 'fragst', er: 'fragt', wir: 'fragen', ihr: 'fragt', sie: 'fragen' }},
                    {infinitive: 'kennen', english: 'to know (someone)', conjugations: { ich: 'kenne', du: 'kennst', er: 'kennt', wir: 'kennen', ihr: 'kennt', sie: 'kennen' }},
                    {infinitive: 'gelten', english: 'to be valid', conjugations: { ich: 'gelte', du: 'giltst', er: 'gilt', wir: 'gelten', ihr: 'geltet', sie: 'gelten' }},
                    {infinitive: 'stellen', english: 'to place, to set', conjugations: { ich: 'stelle', du: 'stellst', er: 'stellt', wir: 'stellen', ihr: 'stellt', sie: 'stellen' }},
                    {infinitive: 'spielen', english: 'to play', conjugations: { ich: 'spiele', du: 'spielst', er: 'spielt', wir: 'spielen', ihr: 'spielt', sie: 'spielen' }},
                    {infinitive: 'arbeiten', english: 'to work', conjugations: { ich: 'arbeite', du: 'arbeitest', er: 'arbeitet', wir: 'arbeiten', ihr: 'arbeitet', sie: 'arbeiten' }},
                    {infinitive: 'brauchen', english: 'to need', conjugations: { ich: 'brauche', du: 'brauchst', er: 'braucht', wir: 'brauchen', ihr: 'braucht', sie: 'brauchen' }},
                    {infinitive: 'folgen', english: 'to follow', conjugations: { ich: 'folge', du: 'folgst', er: 'folgt', wir: 'folgen', ihr: 'folgt', sie: 'folgen' }},
                    {infinitive: 'lernen', english: 'to learn', conjugations: { ich: 'lerne', du: 'lernst', er: 'lernt', wir: 'lernen', ihr: 'lernt', sie: 'lernen' }},
                    {infinitive: 'bestehen', english: 'to exist, to pass', conjugations: { ich: 'bestehe', du: 'bestehst', er: 'besteht', wir: 'bestehen', ihr: 'besteht', sie: 'bestehen' }},
                    {infinitive: 'verstehen', english: 'to understand', conjugations: { ich: 'verstehe', du: 'verstehst', er: 'versteht', wir: 'verstehen', ihr: 'versteht', sie: 'verstehen' }},
                    {infinitive: 'setzen', english: 'to set, to put', conjugations: { ich: 'setze', du: 'setzt', er: 'setzt', wir: 'setzen', ihr: 'setzt', sie: 'setzen' }},
                    {infinitive: 'bekommen', english: 'to get, to receive', conjugations: { ich: 'bekomme', du: 'bekommst', er: 'bekommt', wir: 'bekommen', ihr: 'bekommt', sie: 'bekommen' }},
                    {infinitive: 'beginnen', english: 'to begin', conjugations: { ich: 'beginne', du: 'beginnst', er: 'beginnt', wir: 'beginnen', ihr: 'beginnt', sie: 'beginnen' }},
                    {infinitive: 'erzählen', english: 'to tell, to narrate', conjugations: { ich: 'erzähle', du: 'erzählst', er: 'erzählt', wir: 'erzählen', ihr: 'erzählt', sie: 'erzählen' }},
                    {infinitive: 'versuchen', english: 'to try', conjugations: { ich: 'versuche', du: 'versuchst', er: 'versucht', wir: 'versuchen', ihr: 'versucht', sie: 'versuchen' }},
                    {infinitive: 'schreiben', english: 'to write', conjugations: { ich: 'schreibe', du: 'schreibst', er: 'schreibt', wir: 'schreiben', ihr: 'schreibt', sie: 'schreiben' }},
                    {infinitive: 'laufen', english: 'to run', conjugations: { ich: 'laufe', du: 'läufst', er: 'läuft', wir: 'laufen', ihr: 'lauft', sie: 'laufen' }},
                    {infinitive: 'erklären', english: 'to explain', conjugations: { ich: 'erkläre', du: 'erklärst', er: 'erklärt', wir: 'erklären', ihr: 'erklärt', sie: 'erklären' }},
                    {infinitive: 'entsprechen', english: 'to correspond', conjugations: { ich: 'entspreche', du: 'entsprichst', er: 'entspricht', wir: 'entsprechen', ihr: 'entsprecht', sie: 'entsprechen' }},
                    {infinitive: 'sitzen', english: 'to sit', conjugations: { ich: 'sitze', du: 'sitzt', er: 'sitzt', wir: 'sitzen', ihr: 'sitzt', sie: 'sitzen' }},
                    {infinitive: 'ziehen', english: 'to pull, to move', conjugations: { ich: 'ziehe', du: 'ziehst', er: 'zieht', wir: 'ziehen', ihr: 'zieht', sie: 'ziehen' }},
                    {infinitive: 'scheinen', english: 'to shine, to seem', conjugations: { ich: 'scheine', du: 'scheinst', er: 'scheint', wir: 'scheinen', ihr: 'scheint', sie: 'scheinen' }},
                    {infinitive: 'fallen', english: 'to fall', conjugations: { ich: 'falle', du: 'fällst', er: 'fällt', wir: 'fallen', ihr: 'fallt', sie: 'fallen' }},
                    {infinitive: 'gehören', english: 'to belong', conjugations: { ich: 'gehöre', du: 'gehörst', er: 'gehört', wir: 'gehören', ihr: 'gehört', sie: 'gehören' }},
                    {infinitive: 'entstehen', english: 'to originate, to develop', conjugations: { ich: 'entstehe', du: 'entstehst', er: 'entsteht', wir: 'entstehen', ihr: 'entsteht', sie: 'entstehen' }},
                    {infinitive: 'erhalten', english: 'to receive', conjugations: { ich: 'erhalte', du: 'erhältst', er: 'erhält', wir: 'erhalten', ihr: 'erhaltet', sie: 'erhalten' }},
                    {infinitive: 'treffen', english: 'to meet', conjugations: { ich: 'treffe', du: 'triffst', er: 'trifft', wir: 'treffen', ihr: 'trefft', sie: 'treffen' }},
                    {infinitive: 'suchen', english: 'to search, to look for', conjugations: { ich: 'suche', du: 'suchst', er: 'sucht', wir: 'suchen', ihr: 'sucht', sie: 'suchen' }},
                    {infinitive: 'legen', english: 'to lay, to put', conjugations: { ich: 'lege', du: 'legst', er: 'legt', wir: 'legen', ihr: 'legt', sie: 'legen' }},
                    {infinitive: 'vorstellen', english: 'to introduce, to imagine', conjugations: { ich: 'stelle vor', du: 'stellst vor', er: 'stellt vor', wir: 'stellen vor', ihr: 'stellt vor', sie: 'stellen vor' }},
                    {infinitive: 'handeln', english: 'to deal, to trade', conjugations: { ich: 'handle', du: 'handelst', er: 'handelt', wir: 'handeln', ihr: 'handelt', sie: 'handeln' }},
                    {infinitive: 'erreichen', english: 'to achieve, to reach', conjugations: { ich: 'erreiche', du: 'erreichst', er: 'erreicht', wir: 'erreichen', ihr: 'erreicht', sie: 'erreichen' }},
                    {infinitive: 'tragen', english: 'to carry, to wear', conjugations: { ich: 'trage', du: 'trägst', er: 'trägt', wir: 'tragen', ihr: 'tragt', sie: 'tragen' }},
                    {infinitive: 'schaffen', english: 'to manage, to create', conjugations: { ich: 'schaffe', du: 'schaffst', er: 'schafft', wir: 'schaffen', ihr: 'schafft', sie: 'schaffen' }},
                    {infinitive: 'lesen', english: 'to read', conjugations: { ich: 'lese', du: 'liest', er: 'liest', wir: 'lesen', ihr: 'lest', sie: 'lesen' }},
                    {infinitive: 'verlieren', english: 'to lose', conjugations: { ich: 'verliere', du: 'verlierst', er: 'verliert', wir: 'verlieren', ihr: 'verliert', sie: 'verlieren' }},
                    {infinitive: 'darstellen', english: 'to depict, to portray', conjugations: { ich: 'stelle dar', du: 'stellst dar', er: 'stellt dar', wir: 'stellen dar', ihr: 'stellt dar', sie: 'stellen dar' }},
                    {infinitive: 'erkennen', english: 'to recognize', conjugations: { ich: 'erkenne', du: 'erkennst', er: 'erkennt', wir: 'erkennen', ihr: 'erkennt', sie: 'erkennen' }},
                    {infinitive: 'entwickeln', english: 'to develop', conjugations: { ich: 'entwickle', du: 'entwickelst', er: 'entwickelt', wir: 'entwickeln', ihr: 'entwickelt', sie: 'entwickeln' }},
                    {infinitive: 'reden', english: 'to talk', conjugations: { ich: 'rede', du: 'redest', er: 'redet', wir: 'reden', ihr: 'redet', sie: 'reden' }},
                    {infinitive: 'aussehen', english: 'to appear, to look', conjugations: { ich: 'sehe aus', du: 'siehst aus', er: 'sieht aus', wir: 'sehen aus', ihr: 'seht aus', sie: 'sehen aus' }},
                    {infinitive: 'erscheinen', english: 'to appear', conjugations: { ich: 'erscheine', du: 'erscheinst', er: 'erscheint', wir: 'erscheinen', ihr: 'erscheint', sie: 'erscheinen' }},
                    {infinitive: 'bilden', english: 'to form, to educate', conjugations: { ich: 'bilde', du: 'bildest', er: 'bildet', wir: 'bilden', ihr: 'bildet', sie: 'bilden' }},
                    {infinitive: 'anfangen', english: 'to begin', conjugations: { ich: 'fange an', du: 'fängst an', er: 'fängt an', wir: 'fangen an', ihr: 'fangt an', sie: 'fangen an' }},
                    {infinitive: 'erwarten', english: 'to expect', conjugations: { ich: 'erwarte', du: 'erwartest', er: 'erwartet', wir: 'erwarten', ihr: 'erwartet', sie: 'erwarten' }},
                    {infinitive: 'wohnen', english: 'to live', conjugations: { ich: 'wohne', du: 'wohnst', er: 'wohnt', wir: 'wohnen', ihr: 'wohnt', sie: 'wohnen' }},
                    {infinitive: 'betreffen', english: 'to affect, to concern', conjugations: { ich: 'betreffe', du: 'betriffst', er: 'betrifft', wir: 'betreffen', ihr: 'betrefft', sie: 'betreffen' }},
                    {infinitive: 'warten', english: 'to wait', conjugations: { ich: 'warte', du: 'wartest', er: 'wartet', wir: 'warten', ihr: 'wartet', sie: 'warten' }},
                    {infinitive: 'vergehen', english: 'to elapse, to decay', conjugations: { ich: 'vergehe', du: 'vergehst', er: 'vergeht', wir: 'vergehen', ihr: 'vergeht', sie: 'vergehen' }},
                    {infinitive: 'helfen', english: 'to help', conjugations: { ich: 'helfe', du: 'hilfst', er: 'hilft', wir: 'helfen', ihr: 'helft', sie: 'helfen' }},
                    {infinitive: 'gewinnen', english: 'to win', conjugations: { ich: 'gewinne', du: 'gewinnst', er: 'gewinnt', wir: 'gewinnen', ihr: 'gewinnt', sie: 'gewinnen' }},
                    {infinitive: 'schließen', english: 'to close', conjugations: { ich: 'schließe', du: 'schließt', er: 'schließt', wir: 'schließen', ihr: 'schließt', sie: 'schließen' }},
                    {infinitive: 'fühlen', english: 'to feel', conjugations: { ich: 'fühle', du: 'fühlst', er: 'fühlt', wir: 'fühlen', ihr: 'fühlt', sie: 'fühlen' }},
                    {infinitive: 'bieten', english: 'to offer', conjugations: { ich: 'biete', du: 'bietest', er: 'bietet', wir: 'bieten', ihr: 'bietet', sie: 'bieten' }},
                    {infinitive: 'interessieren', english: 'to interest', conjugations: { ich: 'interessiere', du: 'interessierst', er: 'interessiert', wir: 'interessieren', ihr: 'interessiert', sie: 'interessieren' }},
                    {infinitive: 'erinnern', english: 'to remember', conjugations: { ich: 'erinnere', du: 'erinnerst', er: 'erinnert', wir: 'erinnern', ihr: 'erinnert', sie: 'erinnern' }},
                    {infinitive: 'ergeben', english: 'to result in', conjugations: { ich: 'ergebe', du: 'ergibst', er: 'ergibt', wir: 'ergeben', ihr: 'ergebt', sie: 'ergeben' }},
                    {infinitive: 'anbieten', english: 'to offer', conjugations: { ich: 'biete an', du: 'bietest an', er: 'bietet an', wir: 'bieten an', ihr: 'bietet an', sie: 'bieten an' }},
                    {infinitive: 'studieren', english: 'to study', conjugations: { ich: 'studiere', du: 'studierst', er: 'studiert', wir: 'studieren', ihr: 'studiert', sie: 'studieren' }},
                    {infinitive: 'verbinden', english: 'to connect', conjugations: { ich: 'verbinde', du: 'verbindest', er: 'verbindet', wir: 'verbinden', ihr: 'verbindet', sie: 'verbinden' }},
                    {infinitive: 'ansehen', english: 'to look at, to watch', conjugations: { ich: 'sehe an', du: 'siehst an', er: 'sieht an', wir: 'sehen an', ihr: 'seht an', sie: 'sehen an' }},
                    {infinitive: 'fehlen', english: 'to lack, to be missing', conjugations: { ich: 'fehle', du: 'fehlst', er: 'fehlt', wir: 'fehlen', ihr: 'fehlt', sie: 'fehlen' }},
                    {infinitive: 'bedeuten', english: 'to mean', conjugations: { ich: 'bedeute', du: 'bedeutest', er: 'bedeutet', wir: 'bedeuten', ihr: 'bedeutet', sie: 'bedeuten' }},
                    {infinitive: 'vergleichen', english: 'to compare', conjugations: { ich: 'vergleiche', du: 'vergleichst', er: 'vergleicht', wir: 'vergleichen', ihr: 'vergleicht', sie: 'vergleichen' }}
                ];
                
                this.currentView = 'setup';
                this.newVerb = this.getEmptyVerb();
                this.testState = this.getEmptyTestState();
                this.pronouns = ['ich', 'du', 'er/sie/es', 'wir', 'ihr', 'sie'];
                this.pronounKeys = ['ich', 'du', 'er', 'wir', 'ihr', 'sie'];
                this.statusMessage = '';
                this.statusType = '';

                // GitHub configuration
                this.github = {
                    token: localStorage.getItem('github_token') || '',
                    username: localStorage.getItem('github_username') || '',
                    repo: localStorage.getItem('github_repo') || '',
                    isConfigured: false
                };

                this.checkGitHubConfig();
                this.loadVerbsFromGitHub();
                this.render();
            }

            checkGitHubConfig() {
                this.github.isConfigured = !!(this.github.token && this.github.username && this.github.repo);
                if (this.github.isConfigured) {
                    this.currentView = 'menu';
                }
            }

            async saveGitHubConfig(token, username, repo) {
                this.github = { token, username, repo, isConfigured: true };
                localStorage.setItem('github_token', token);
                localStorage.setItem('github_username', username);
                localStorage.setItem('github_repo', repo);
                
                this.setStatus('GitHub configuration saved!', 'success');
                this.currentView = 'menu';
                await this.loadVerbsFromGitHub();
                this.render();
            }

            async loadVerbsFromGitHub() {
                if (!this.github.isConfigured) return;

                try {
                    this.setStatus('Loading verbs from GitHub...', 'info');
                    this.render();

                    const response = await fetch(`https://api.github.com/repos/${this.github.username}/${this.github.repo}/contents/verbs.json`, {
                        headers: {
                            'Authorization': `token ${this.github.token}`,
                            'Accept': 'application/vnd.github.v3+json'
                        }
                    });

                    if (response.ok) {
                        const data = await response.json();
                        const content = atob(data.content);
                        const loadedVerbs = JSON.parse(content);
                        this.verbs = loadedVerbs;
                        this.setStatus(`Loaded ${this.verbs.length} verbs from GitHub!`, 'success');
                    } else if (response.status === 404) {
                        // File doesn't exist yet, create it with the current verbs (keep the 100 default verbs)
                        this.setStatus('Creating verbs.json file on GitHub with default verbs...', 'info');
                        await this.saveVerbsToGitHub();
                        this.setStatus(`Created GitHub file with ${this.verbs.length} verbs!`, 'success');
                    } else {
                        throw new Error('Failed to load from GitHub');
                    }
                } catch (error) {
                    console.error('GitHub load error:', error);
                    this.setStatus('Failed to load from GitHub. Using default verbs.', 'error');
                }
            }

            async saveVerbsToGitHub() {
                if (!this.github.isConfigured) return;

                try {
                    this.setStatus('Saving verbs to GitHub...', 'info');
                    this.render();

                    // First, try to get the current file to get its SHA
                    let sha = null;
                    try {
                        const currentFile = await fetch(`https://api.github.com/repos/${this.github.username}/${this.github.repo}/contents/verbs.json`, {
                            headers: {
                                'Authorization': `token ${this.github.token}`,
                                'Accept': 'application/vnd.github.v3+json'
                            }
                        });
                        if (currentFile.ok) {
                            const data = await currentFile.json();
                            sha = data.sha;
                        }
                    } catch (e) {
                        // File doesn't exist yet, which is fine
                    }

                    const content = btoa(JSON.stringify(this.verbs, null, 2));
                    const body = {
                        message: `Update verbs - ${this.verbs.length} verbs stored`,
                        content: content,
                        ...(sha && { sha })
                    };

                    const response = await fetch(`https://api.github.com/repos/${this.github.username}/${this.github.repo}/contents/verbs.json`, {
                        method: 'PUT',
                        headers: {
                            'Authorization': `token ${this.github.token}`,
                            'Accept': 'application/vnd.github.v3+json',
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify(body)
                    });

                    if (response.ok) {
                        this.setStatus('Verbs saved to GitHub successfully!', 'success');
                    } else {
                        throw new Error(`GitHub API error: ${response.status}`);
                    }
                } catch (error) {
                    console.error('GitHub save error:', error);
                    this.setStatus('Failed to save to GitHub. Check your token and repo settings.', 'error');
                }
            }

            setStatus(message, type = 'info') {
                this.statusMessage = message;
                this.statusType = type;
                // Clear status after 5 seconds
                setTimeout(() => {
                    if (this.statusMessage === message) {
                        this.statusMessage = '';
                        this.render();
                    }
                }, 5000);
            }

            getEmptyVerb() {
                return {
                    infinitive: '',
                    english: '',
                    conjugations: {
                        ich: '', du: '', er: '', wir: '', ihr: '', sie: ''
                    }
                };
            }

            getEmptyTestState() {
                return {
                    currentVerbIndex: 0,
                    currentPronoun: 'ich',
                    userAnswer: '',
                    score: 0,
                    totalQuestions: 0,
                    showResult: false,
                    isCorrect: false
                };
            }

            setView(view) {
                this.currentView = view;
                this.render();
            }

            async addVerb() {
                if (this.newVerb.infinitive && this.newVerb.english && Object.values(this.newVerb.conjugations).every(conj => conj.trim())) {
                    this.verbs.push({...this.newVerb});
                    this.newVerb = this.getEmptyVerb();
                    await this.saveVerbsToGitHub();
                    this.setView('menu');
                }
            }

            startTest() {
                if (this.verbs.length === 0) return;
                this.testState = {
                    currentVerbIndex: Math.floor(Math.random() * this.verbs.length),
                    currentPronoun: this.pronounKeys[Math.floor(Math.random() * this.pronounKeys.length)],
                    userAnswer: '',
                    score: 0,
                    totalQuestions: 0,
                    showResult: false,
                    isCorrect: false
                };
                this.setView('test');
            }

            checkAnswer() {
                if (!this.testState.userAnswer.trim()) {
                    alert('Please enter an answer first!');
                    return;
                }
                
                const currentVerb = this.verbs[this.testState.currentVerbIndex];
                const correctAnswer = currentVerb.conjugations[this.testState.currentPronoun];
                const isCorrect = this.testState.userAnswer.toLowerCase().trim() === correctAnswer.toLowerCase();
                
                this.testState = {
                    ...this.testState,
                    isCorrect,
                    showResult: true,
                    score: isCorrect ? this.testState.score + 1 : this.testState.score,
                    totalQuestions: this.testState.totalQuestions + 1
                };
                this.render();
            }

            nextQuestion() {
                this.testState = {
                    ...this.testState,
                    currentVerbIndex: Math.floor(Math.random() * this.verbs.length),
                    currentPronoun: this.pronounKeys[Math.floor(Math.random() * this.pronounKeys.length)],
                    userAnswer: '',
                    showResult: false
                };
                this.render();
            }

            render() {
                const app = document.getElementById('app');
                
                if (this.currentView === 'setup') {
                    app.innerHTML = this.renderSetup();
                } else if (this.currentView === 'menu') {
                    app.innerHTML = this.renderMenu();
                } else if (this.currentView === 'addVerb') {
                    app.innerHTML = this.renderAddVerb();
                } else if (this.currentView === 'verbs') {
                    app.innerHTML = this.renderVerbs();
                } else if (this.currentView === 'test') {
                    app.innerHTML = this.renderTest();
                } else if (this.currentView === 'results') {
                    app.innerHTML = this.renderResults();
                }

                this.attachEventListeners();
            }

            renderSetup() {
                return `
                    <div class="container">
                        <div class="header">
                            <h1 class="title">German Verbs</h1>
                            <p class="subtitle">GitHub Setup Required</p>
                        </div>
                        
                        ${this.statusMessage ? `<div class="status-message status-${this.statusType}">${this.statusMessage}</div>` : ''}
                        
                        <div class="github-setup">
                            <h3 style="margin-bottom: 16px; color: #1f2937;">Setup GitHub Integration</h3>
                            
                            <div class="setup-step">
                                <strong>Step 1:</strong> Create a Personal Access Token
                                <br><small>Go to GitHub.com → Settings → Developer settings → Personal access tokens → Generate new token (classic)</small>
                            </div>
                            
                            <div class="setup-step">
                                <strong>Step 2:</strong> Give it "repo" permissions
                                <br><small>Check the "repo" checkbox to allow reading/writing to repositories</small>
                            </div>
                            
                            <div class="setup-step">
                                <strong>Step 3:</strong> Fill in the details below
                            </div>
                            
                            <div class="form-group">
                                <label class="label">GitHub Personal Access Token</label>
                                <input type="password" id="github-token" class="input" 
                                       placeholder="ghp_xxxxxxxxxxxxxxxxxxxx">
                            </div>
                            
                            <div class="form-group">
                                <label class="label">Your GitHub Username</label>
                                <input type="text" id="github-username" class="input" 
                                       placeholder="your-username">
                            </div>
                            
                            <div class="form-group">
                                <label class="label">Repository Name</label>
                                <input type="text" id="github-repo" class="input" 
                                       placeholder="german-verb-app" value="german-verb-app">
                            </div>
                            
                            <button class="button button-primary" onclick="app.setupGitHub()">
                                <span class="icon">🚀</span>
                                <span>Connect to GitHub</span>
                            </button>
                            
                            <div style="margin-top: 16px; padding: 16px; background: #fef3c7; border-radius: 8px; font-size: 14px;">
                                <strong>Note:</strong> This will create a "verbs.json" file in your repository to store your verb data permanently.
                            </div>
                        </div>
                    </div>
                `;
            }

            renderMenu() {
                return `
                    <div class="container">
                        <div class="header">
                            <h1 class="title">German Verbs</h1>
                            <p class="subtitle">Synced with GitHub • ${this.verbs.length} verbs</p>
                        </div>
                        
                        ${this.statusMessage ? `<div class="status-message status-${this.statusType}">${this.statusMessage}</div>` : ''}
                        
                        <button class="button" onclick="app.setView('addVerb')">
                            <span class="icon">➕</span>
                            <span>Add New Verb</span>
                        </button>
                        
                        <button class="button" onclick="app.setView('verbs')">
                            <div>
                                <span class="icon">📖</span>
                                <div style="display: inline-block;">
                                    <div style="font-weight: 600;">View Verbs</div>
                                    <div style="font-size: 14px; color: #6b7280;">${this.verbs.length} verbs stored</div>
                                </div>
                            </div>
                        </button>
                        
                        <button class="button button-success" onclick="app.syncWithGitHub()">
                            <span class="icon">🔄</span>
                            <span>Sync with GitHub</span>
                        </button>
                        
                        <button class="button button-primary" onclick="app.startTest()" ${this.verbs.length === 0 ? 'disabled' : ''}>
                            <span class="icon">▶️</span>
                            <span style="font-weight: 600; font-size: 18px;">Start Test</span>
                        </button>
                        
                        <button class="button button-warning" onclick="app.setView('setup')" style="margin-top: 24px;">
                            <span class="icon">⚙️</span>
                            <span>GitHub Settings</span>
                        </button>
                    </div>
                `;
            }

            renderAddVerb() {
                return `
                    <div class="container">
                        <div style="display: flex; align-items: center; margin-bottom: 24px; padding-top: 16px;">
                            <button class="back-button" onclick="app.setView('menu')">←</button>
                            <h2 style="font-size: 1.5rem; font-weight: bold; color: #1f2937;">Add New Verb</h2>
                        </div>
                        
                        ${this.statusMessage ? `<div class="status-message status-${this.statusType}">${this.statusMessage}</div>` : ''}
                        
                        <div style="background: white; border-radius: 12px; padding: 24px; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);">
                            <div class="form-group">
                                <label class="label">Infinitive</label>
                                <input type="text" class="input" value="${this.newVerb.infinitive}" 
                                       onchange="app.updateNewVerb('infinitive', this.value)"
                                       placeholder="e.g., machen">
                            </div>
                            
                            <div class="form-group">
                                <label class="label">English Translation</label>
                                <input type="text" class="input" value="${this.newVerb.english}" 
                                       onchange="app.updateNewVerb('english', this.value)"
                                       placeholder="e.g., to do, to make">
                            </div>
                            
                            <div style="margin-bottom: 12px;">
                                <h3 style="font-weight: 500; color: #1f2937;">Conjugations:</h3>
                            </div>
                            
                            ${this.pronounKeys.map((pronoun, index) => `
                                <div class="conjugation-row">
                                    <div class="pronoun">${this.pronouns[index]}</div>
                                    <input type="text" class="input" value="${this.newVerb.conjugations[pronoun]}"
                                           onchange="app.updateNewVerbConj('${pronoun}', this.value)"
                                           placeholder="${this.pronouns[index]} ...">
                                </div>
                            `).join('')}
                            
                            <div class="button-row">
                                <button class="button button-secondary" onclick="app.resetAndGoToMenu()" style="flex: 1;">Cancel</button>
                                <button class="button button-primary" onclick="app.addVerb()" style="flex: 1;">Add & Save to GitHub</button>
                            </div>
                        </div>
                    </div>
                `;
            }

            renderVerbs() {
                return `
                    <div class="container">
                        <div style="display: flex; align-items: center; margin-bottom: 24px; padding-top: 16px;">
                            <button class="back-button" onclick="app.setView('menu')">←</button>
                            <h2 style="font-size: 1.5rem; font-weight: bold; color: #1f2937;">Your Verbs</h2>
                        </div>
                        
                        ${this.statusMessage ? `<div class="status-message status-${this.statusType}">${this.statusMessage}</div>` : ''}
                        
                        ${this.verbs.map(verb => `
                            <div class="verb-card">
                                <h3 class="verb-name">${verb.infinitive}</h3>
                                <div class="verb-english">${verb.english || '(no translation)'}</div>
                                <div class="conjugations-grid">
                                    ${this.pronounKeys.map((pronoun, index) => `
                                        <div class="conjugation-item">
                                            <span style="color: #6b7280;">${this.pronouns[index]}:</span>
                                            <span style="font-weight: 500;">${verb.conjugations[pronoun]}</span>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        `).join('')}
                    </div>
                `;
            }

            renderTest() {
                const currentVerb = this.verbs[this.testState.currentVerbIndex];
                const currentPronounDisplay = this.pronouns[this.pronounKeys.indexOf(this.testState.currentPronoun)];

                return `
                    <div class="gradient-purple" style="min-height: 100vh; padding: 16px;">
                        <div class="container">
                            <div class="test-header">
                                <div class="score">Score: ${this.testState.score}/${this.testState.totalQuestions}</div>
                                <button class="end-test" onclick="app.setView('results')">End Test</button>
                            </div>
                            
                            <div class="test-card">
                                <h2 class="verb-title">${currentVerb.infinitive}</h2>
                                <p class="verb-translation">${currentVerb.english || '(no translation)'}</p>
                                <div class="pronoun-display">${currentPronounDisplay} ___</div>
                                
                                ${!this.testState.showResult ? `
                                    <input type="text" class="answer-input" id="answer-input" value="${this.testState.userAnswer}"
                                           placeholder="Type conjugation...">
                                    <button class="button button-primary" id="check-btn" type="button">
                                        Check Answer
                                    </button>
                                ` : `
                                    <div class="${this.testState.isCorrect ? 'result-correct' : 'result-incorrect'}">
                                        <span style="margin-right: 8px;">${this.testState.isCorrect ? '✓' : '✗'}</span>
                                        ${this.testState.isCorrect ? 'Correct!' : 'Incorrect'}
                                    </div>
                                    
                                    ${!this.testState.isCorrect ? `
                                        <div class="correct-answer">
                                            Correct answer: <strong>${currentVerb.conjugations[this.testState.currentPronoun]}</strong>
                                        </div>
                                    ` : ''}
                                    
                                    <button class="button button-primary" onclick="app.nextQuestion()">
                                        Next Question
                                    </button>
                                `}
                            </div>
                        </div>
                    </div>
                `;
            }

            renderResults() {
                const percentage = this.testState.totalQuestions > 0 ? Math.round((this.testState.score / this.testState.totalQuestions) * 100) : 0;

                return `
                    <div class="gradient-green" style="min-height: 100vh; padding: 16px;">
                        <div class="container">
                            <div style="padding-top: 32px; text-align: center;">
                                <div style="background: white; border-radius: 12px; padding: 32px; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);">
                                    <h2 style="font-size: 1.5rem; font-weight: bold; color: #1f2937; margin-bottom: 24px;">Test Complete!</h2>
                                    
                                    <div class="percentage">${percentage}%</div>
                                    
                                    <div style="font-size: 1.125rem; color: #374151; margin-bottom: 32px;">
                                        ${this.testState.score} out of ${this.testState.totalQuestions} correct
                                    </div>
                                    
                                    <div style="display: flex; flex-direction: column; gap: 12px;">
                                        <button class="button button-primary" onclick="app.startTest()">
                                            <span style="margin-right: 8px;">🔄</span>
                                            Test Again
                                        </button>
                                        
                                        <button class="button button-secondary" onclick="app.setView('menu')">
                                            Back to Menu
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }

            attachEventListeners() {
                // Add event listeners after DOM is rendered
                const checkBtn = document.getElementById('check-btn');
                const answerInput = document.getElementById('answer-input');
                
                if (checkBtn) {
                    checkBtn.addEventListener('click', (e) => {
                        e.preventDefault();
                        this.checkAnswer();
                    });
                }
                
                if (answerInput) {
                    answerInput.addEventListener('input', (e) => {
                        this.updateTestAnswer(e.target.value);
                    });
                    
                    answerInput.addEventListener('keypress', (e) => {
                        if (e.key === 'Enter' && e.target.value.trim()) {
                            e.preventDefault();
                            this.checkAnswer();
                        }
                    });
                }
            }

            setupGitHub() {
                const token = document.getElementById('github-token').value;
                const username = document.getElementById('github-username').value;
                const repo = document.getElementById('github-repo').value;

                if (!token || !username || !repo) {
                    this.setStatus('Please fill in all GitHub fields', 'error');
                    return;
                }

                this.saveGitHubConfig(token, username, repo);
            }

            async syncWithGitHub() {
                this.setStatus('Syncing with GitHub...', 'info');
                await this.loadVerbsFromGitHub();
                this.render();
            }

            updateNewVerb(field, value) {
                this.newVerb[field] = value;
            }

            updateNewVerbConj(pronoun, value) {
                this.newVerb.conjugations[pronoun] = value;
            }

            updateTestAnswer(value) {
                this.testState.userAnswer = value;
            }

            resetAndGoToMenu() {
                this.newVerb = this.getEmptyVerb();
                this.setView('menu');
            }
        }

        // Initialize the app
        const app = new GermanVerbApp();
    </script>
</body>
</html>
